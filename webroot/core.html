<!doctype html>
<head>
<script src="d3.min.js"></script>
<script src="d3.layout.min.js"></script>

<script src="rickshaw.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js"></script>

<link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css">
	<link type="text/css" rel="stylesheet" href="graph.css">
	<link type="text/css" rel="stylesheet" href="detail.css">
	<link type="text/css" rel="stylesheet" href="legend.css">
	<link type="text/css" rel="stylesheet" href="lines.css">
	<link type="text/css" rel="stylesheet" href="css/extensions.css">


	<script src="src/js/Rickshaw.js"></script>
	<script src="src/js/Rickshaw.Class.js"></script>
	<script src="src/js/Rickshaw.Compat.ClassList.js"></script>
	<script src="src/js/Rickshaw.Graph.js"></script>
	<script src="src/js/Rickshaw.Graph.Renderer.js"></script>
	<script src="src/js/Rickshaw.Graph.Renderer.Area.js"></script>
	<script src="src/js/Rickshaw.Graph.Renderer.Line.js"></script>
	<script src="src/js/Rickshaw.Graph.Renderer.Bar.js"></script>
	<script src="src/js/Rickshaw.Graph.Renderer.ScatterPlot.js"></script>
	<script src="src/js/Rickshaw.Graph.RangeSlider.js"></script>
	<script src="src/js/Rickshaw.Graph.HoverDetail.js"></script>
	<script src="src/js/Rickshaw.Graph.Annotate.js"></script>
	<script src="src/js/Rickshaw.Graph.Legend.js"></script>
	<script src="src/js/Rickshaw.Graph.Axis.Time.js"></script>
	<script src="src/js/Rickshaw.Graph.Behavior.Series.Toggle.js"></script>
	<script src="src/js/Rickshaw.Graph.Behavior.Series.Order.js"></script>
	<script src="src/js/Rickshaw.Graph.Behavior.Series.Highlight.js"></script>
	<script src="src/js/Rickshaw.Graph.Smoother.js"></script>
	<script src="src/js/Rickshaw.Graph.Unstacker.js"></script>
	<script src="src/js/Rickshaw.Fixtures.Time.js"></script>
	<script src="src/js/Rickshaw.Fixtures.Number.js"></script>
	<script src="src/js/Rickshaw.Fixtures.RandomData.js"></script>
	<script src="src/js/Rickshaw.Fixtures.Color.js"></script>
	<script src="src/js/Rickshaw.Color.Palette.js"></script>
	<script src="src/js/Rickshaw.Graph.Axis.Y.js"></script>

	<script src="js/extensions.js"></script>


</head>
<body>

<div id="content">

	<form id="side_panel">
		<h1>MMXII Router Usage</h1>
		<section><div id="legend"></div></section>
		<section>
			<div id="renderer_form" class="toggler">
				<input type="radio" name="renderer" id="area" value="area" checked>
				<label for="area">area</label>
				<input type="radio" name="renderer" id="bar" value="bar">
				<label for="bar">bar</label>
				<input type="radio" name="renderer" id="line" value="line">
				<label for="line">line</label>
				<input type="radio" name="renderer" id="scatter" value="scatterplot">
				<label for="scatter">scatter</label>
			</div>
		</section>
		<section>
			<div id="offset_form">
				<label for="stack">
					<input type="radio" name="offset" id="stack" value="zero" checked>
					<span>stack</span>
				</label>
				<label for="stream">
					<input type="radio" name="offset" id="stream" value="wiggle">
					<span>stream</span>
				</label>
				<label for="pct">
					<input type="radio" name="offset" id="pct" value="expand">
					<span>pct</span>
				</label>
				<label for="value">
					<input type="radio" name="offset" id="value" value="value">
					<span>value</span>
				</label>
			</div>
			<div id="interpolation_form">
				<label for="cardinal">
					<input type="radio" name="interpolation" id="cardinal" value="cardinal" checked>
					<span>cardinal</span>
				</label>
				<label for="linear">
					<input type="radio" name="interpolation" id="linear" value="linear">
					<span>linear</span>
				</label>
				<label for="step">
					<input type="radio" name="interpolation" id="step" value="step-after">
					<span>step</span>
				</label>
			</div>
		</section>
		<section>
			<h6>Smoothing</h6>
			<div id="smoother"></div>
		</section>
		<section></section>
	</form>

	<div id="chart_container">
		<div id="chart"></div>
		<div id="timeline"></div>
		<div id="slider"></div>
	</div>

</div>




<script>
function parseSize(size) {
    var suffix = ["bits/s", "Kb/s", "Mb/s", "Gb/s", "Tb/s", "Pb/s"],
        tier = 0;

    while(size >= 1024) {
        size = size / 1024;
        tier++;
    }

    return Math.round(size * 10) / 10 + " " + suffix[tier];
}

var palette = new Rickshaw.Color.Palette( { scheme: 'munin' } );
var graph = new Rickshaw.Graph({
	element: document.querySelector("#chart"),
	width: 900,
	height: 500,
	renderer: 'area',
	stroke: true,
	series: [{
		data: [{ x: 1343493354, y: 64159 },{ x: 1343493385, y: 845183 },{ x: 1343493417, y: 789650 },{ x: 1343493448, y: 107009 },{ x: 1343493482, y: 35132 },{ x: 1343493513, y: 219827 },{ x: 1343493545, y: 766530 },{ x: 1343493576, y: 879514 },{ x: 1343493608, y: 474116 },{ x: 1343493639, y: 33827 },{ x: 1343493671, y: 41378 },{ x: 1343493702, y: 854646 },{ x: 1343493733, y: 294542 },{ x: 1343493765, y: 47946 },{ x: 1343493797, y: 138169 },{ x: 1343493828, y: 994624 },{ x: 1343493860, y: 12719 },{ x: 1343493891, y: 17219 },{ x: 1343493922, y: 331357 },{ x: 1343493954, y: 529854 },{ x: 1343493985, y: 400487 },{ x: 1343494017, y: 839078 },{ x: 1343494048, y: 608783 },{ x: 1343494079, y: 28816 },{ x: 1343494111, y: 228503 },{ x: 1343494142, y: 103302 },{ x: 1343494173, y: 236160 },{ x: 1343494205, y: 51589 },{ x: 1343494236, y: 549215 },{ x: 1343494268, y: 45908 },{ x: 1343494299, y: 837726 },{ x: 1343494330, y: 822677 },{ x: 1343494362, y: 89098 },{ x: 1343494393, y: 6118 },{ x: 1343494424, y: 59835 },{ x: 1343494455, y: 75020 },{ x: 1343494487, y: 571852 },{ x: 1343494518, y: 66922 },{ x: 1343494549, y: 170620 },{ x: 1343494581, y: 52707 },{ x: 1343494612, y: 911328 },{ x: 1343494643, y: 99909 },{ x: 1343494674, y: 125678 },{ x: 1343494706, y: 87109 },{ x: 1343494737, y: 409368 },{ x: 1343494768, y: 63313 },{ x: 1343494800, y: 219309 },{ x: 1343494831, y: 59857 },{ x: 1343494862, y: 1385616 },{ x: 1343494894, y: 305240 },{ x: 1343494925, y: 40405 },{ x: 1343494957, y: 56071 },{ x: 1343494988, y: 482467 },{ x: 1343495019, y: 30572 },{ x: 1343495050, y: 847346 },{ x: 1343495082, y: 11120 },{ x: 1343495113, y: 68312 },{ x: 1343495144, y: 686424 },{ x: 1343495176, y: 839413 },{ x: 1343495207, y: 229742 },{ x: 1343495238, y: 8299 },{ x: 1343495269, y: 201608 },{ x: 1343495301, y: 45409 },{ x: 1343495332, y: 851188 },{ x: 1343495363, y: 206401 },{ x: 1343495395, y: 596324 },{ x: 1343495426, y: 26338 },{ x: 1343495457, y: 41625 },{ x: 1343495489, y: 90884 },{ x: 1343495520, y: 113561 },{ x: 1343495551, y: 956 },{ x: 1343495582, y: 45030 },{ x: 1343495614, y: 58501 },{ x: 1343495645, y: 11891 },{ x: 1343495676, y: 127169 },{ x: 1343495707, y: 26813 },{ x: 1343495739, y: 819983 },{ x: 1343495770, y: 807676 },{ x: 1343495801, y: 11401 },{ x: 1343495833, y: 106588 },{ x: 1343495864, y: 9163 },{ x: 1343495895, y: 10735 },{ x: 1343495927, y: 235736 },{ x: 1343495959, y: 31162 },{ x: 1343495990, y: 431925 },{ x: 1343496021, y: 274397 },{ x: 1343496052, y: 148237 },{ x: 1343496084, y: 5208 },{ x: 1343496115, y: 862387 },{ x: 1343496146, y: 542168 },{ x: 1343496178, y: 88700 },{ x: 1343496209, y: 216774 },{ x: 1343496240, y: 109816 },{ x: 1343496272, y: 10022 },{ x: 1343496303, y: 1146802 },{ x: 1343496334, y: 411135 },{ x: 1343496366, y: 91547 },{ x: 1343496397, y: 333827 },{ x: 1343496428, y: 21539 },{ x: 1343496459, y: 144385 },{ x: 1343496491, y: 213702 },{ x: 1343496522, y: 1233237 },{ x: 1343496554, y: 971833 },{ x: 1343496586, y: 1069213 },{ x: 1343496617, y: 18620 },{ x: 1343496648, y: 22103 },{ x: 1343496680, y: 29241 },{ x: 1343496711, y: 811256 },{ x: 1343496742, y: 8525 },{ x: 1343496773, y: 5519 },{ x: 1343496805, y: 8094 }, ],
		color: palette.color(),
		name: 'Speed In'
	}, {
		data: [ { x: 1343493354, y: 18518 },{ x: 1343493385, y: 820632 },{ x: 1343493417, y: 477343 },{ x: 1343493448, y: 40654 },{ x: 1343493482, y: 544558 },{ x: 1343493513, y: 222136 },{ x: 1343493545, y: 240622 },{ x: 1343493576, y: 165088 },{ x: 1343493608, y: 462932 },{ x: 1343493639, y: 1384824 },{ x: 1343493671, y: 1422090 },{ x: 1343493702, y: 168848 },{ x: 1343493733, y: 370285 },{ x: 1343493765, y: 804297 },{ x: 1343493797, y: 288337 },{ x: 1343493828, y: 178055 },{ x: 1343493860, y: 166544 },{ x: 1343493891, y: 52479 },{ x: 1343493922, y: 236791 },{ x: 1343493954, y: 462920 },{ x: 1343493985, y: 41406 },{ x: 1343494017, y: 87255 },{ x: 1343494048, y: 135089 },{ x: 1343494079, y: 691890 },{ x: 1343494111, y: 1097652 },{ x: 1343494142, y: 174834 },{ x: 1343494173, y: 24784 },{ x: 1343494205, y: 287721 },{ x: 1343494236, y: 134597 },{ x: 1343494268, y: 217030 },{ x: 1343494299, y: 21372 },{ x: 1343494330, y: 26167 },{ x: 1343494362, y: 25664 },{ x: 1343494393, y: 14759 },{ x: 1343494424, y: 27804 },{ x: 1343494455, y: 16776 },{ x: 1343494487, y: 118979 },{ x: 1343494518, y: 9594 },{ x: 1343494549, y: 53435 },{ x: 1343494581, y: 88351 },{ x: 1343494612, y: 84544 },{ x: 1343494643, y: 83532 },{ x: 1343494674, y: 75072 },{ x: 1343494706, y: 81302 },{ x: 1343494737, y: 89694 },{ x: 1343494768, y: 37773 },{ x: 1343494800, y: 96704 },{ x: 1343494831, y: 46118 },{ x: 1343494862, y: 109882 },{ x: 1343494894, y: 66562 },{ x: 1343494925, y: 57617 },{ x: 1343494957, y: 46947 },{ x: 1343494988, y: 59301 },{ x: 1343495019, y: 23382 },{ x: 1343495050, y: 41683 },{ x: 1343495082, y: 6868 },{ x: 1343495113, y: 30415 },{ x: 1343495144, y: 31421 },{ x: 1343495176, y: 25223 },{ x: 1343495207, y: 34364 },{ x: 1343495238, y: 3664 },{ x: 1343495269, y: 9423 },{ x: 1343495301, y: 25557 },{ x: 1343495332, y: 35317 },{ x: 1343495363, y: 16247 },{ x: 1343495395, y: 41910 },{ x: 1343495426, y: 9543 },{ x: 1343495457, y: 5801 },{ x: 1343495489, y: 5938 },{ x: 1343495520, y: 15260 },{ x: 1343495551, y: 2015 },{ x: 1343495582, y: 13918 },{ x: 1343495614, y: 16624 },{ x: 1343495645, y: 6433 },{ x: 1343495676, y: 70975 },{ x: 1343495707, y: 12463 },{ x: 1343495739, y: 22030 },{ x: 1343495770, y: 14849 },{ x: 1343495801, y: 6171 },{ x: 1343495833, y: 17639 },{ x: 1343495864, y: 6717 },{ x: 1343495895, y: 5082 },{ x: 1343495927, y: 30166 },{ x: 1343495959, y: 4669 },{ x: 1343495990, y: 10909 },{ x: 1343496021, y: 36095 },{ x: 1343496052, y: 10833 },{ x: 1343496084, y: 5577 },{ x: 1343496115, y: 21269 },{ x: 1343496146, y: 18985 },{ x: 1343496178, y: 9888 },{ x: 1343496209, y: 39871 },{ x: 1343496240, y: 14874 },{ x: 1343496272, y: 8337 },{ x: 1343496303, y: 100947 },{ x: 1343496334, y: 16693 },{ x: 1343496366, y: 6193 },{ x: 1343496397, y: 41944 },{ x: 1343496428, y: 8602 },{ x: 1343496459, y: 14636 },{ x: 1343496491, y: 13411 },{ x: 1343496522, y: 178422 },{ x: 1343496554, y: 32864 },{ x: 1343496586, y: 59480 },{ x: 1343496617, y: 7233 },{ x: 1343496648, y: 7653 },{ x: 1343496680, y: 18465 },{ x: 1343496711, y: 16251 },{ x: 1343496742, y: 5004 },{ x: 1343496773, y: 6720 },{ x: 1343496805, y: 7409 }, ],
		color: palette.color(),
		name: 'Speed Out'
	}]
});
graph.render();

var slider = new Rickshaw.Graph.RangeSlider( {
	graph: graph,
	element: $('#slider')
} );

var hoverDetail = new Rickshaw.Graph.HoverDetail( {
    graph: graph,
    formatter: function(series, x,y) {
	var date = '<span class="date">' + new Date(x * 1000).toUTCString() + '</span>';
	var swatch = '<span class="detail_swatch" style="background-color: ' + series.color + '"></span>';
	var content = swatch + series.name + ": " + parseSize(parseInt(y)) + '<br>' + date;
	return content;
	}
   // xFormatter: function(x) { return x + "seconds" },
    //yFormatter: function(y) { return Math.floor(y / 1024.0) + " Kb/s" }
} );
var annotator = new Rickshaw.Graph.Annotate( {
	graph: graph,
	element: document.getElementById('timeline')
} );

var legend = new Rickshaw.Graph.Legend( {
	graph: graph,
	element: document.getElementById('legend')

} );

var shelving = new Rickshaw.Graph.Behavior.Series.Toggle( {
	graph: graph,
	legend: legend
} );
var order = new Rickshaw.Graph.Behavior.Series.Order( {
	graph: graph,
	legend: legend
} );

var highlighter = new Rickshaw.Graph.Behavior.Series.Highlight( {
	graph: graph,
	legend: legend
} );

var smoother = new Rickshaw.Graph.Smoother( {
	graph: graph,
	element: $('#smoother')
} );

var ticksTreatment = 'glow';

var xAxis = new Rickshaw.Graph.Axis.Time( {
	graph: graph,
	ticksTreatment: ticksTreatment
} );

xAxis.render();

var yAxis = new Rickshaw.Graph.Axis.Y( {
	graph: graph,
	tickFormat: Rickshaw.Fixtures.Number.formatKMBT,
	ticksTreatment: ticksTreatment
} );

yAxis.render();


//var axes = new Rickshaw.Graph.Axis.Time( {
//	graph: graph
//} );
//axes.render();
var controls = new RenderControls( {
	element: document.querySelector('form'),
	graph: graph
} );

</script>

</body>